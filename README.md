Приложение с интегрированными средством расползнавания трекинга движения глаз, мимики лица и последующим анализом индивидуального эффекта воздействия.

## Требования
Для работы проекта необходимо установить зависимости Python и Node.js.
-   Python 3.12.7
-   Node.js и npm (или yarn)

## Настройка и запуск
1.  Клонируйте репозиторий.
2.  Установите зависимости Python:
        pip install -r requirements.txt
3.  Установите зависимости Node.js. Перейдите в директорию app.
        cd app
        npm install

5.  Запустите backend-сервер (убедитсь что вы находитесь в директории app).
        python app.py
    Сервер будет запущен на http://localhost:5000.

6.  Откройте frontend:
    Откройте http://127.0.0.1:5000/participant.html в браузере. Используем браузеры Chrome и Firefox для сбора данных в разных условиях.

## Проведение эксперимента

### 1. Заполнение информации об участнике

При первом открытии participant.html или если информация об участнике отсутствует в локальном хранилище браузера, откроется страница для заполнения данных участника. Заполните номер участника и отметьте необходимые согласия. После нажатия "Готово" вы будете перенаправлены на главную страницу эксперимента (index.html).

Важно:! Начните эксперимент с запуска participant.html для каждого нового участника или для каждого нового браузера у одного участника.

### 2. Основной интерфейс эксперимента

На странице index.html вы увидите:

-   Панель управления с кнопками.
-   Области для отображения видео с камеры (для Face API и WebGazer).
-   Canvas для отображения точки взгляда во время калибровки.
-   Модальные окна для заданий и результатов анализа.

Важно! Подождите, пока прогрузится webgazer -- на это может понадобиться время. В Firefox это происходит несколько медленее, чем в Chromium. Продождать эксперимент только когда появится справа камера webgazer'а с точками вашего лица. 

Пример "недогруженного" веб-приложения:
![image](https://github.com/user-attachments/assets/b1fc47a1-eb25-48eb-9025-ca07f97db464)

Пример веб-приложения, готового к работе:
![image](https://github.com/user-attachments/assets/d25944e1-c90a-4796-a0fc-fc48ec56baa7)

Неправильно:
![image](https://github.com/user-attachments/assets/1c389a3f-5035-42a0-b024-b0f53f4ecb25)

Правильно:
![image](https://github.com/user-attachments/assets/f3be9eab-90a0-4120-a39a-10ac5bcebe6a)

### 3. Калибровка ай-трекера

Перед началом выполнения заданий необходимо провести калибровку.
1.  Нажмите кнопку "Калибровка".
   ![image](https://github.com/user-attachments/assets/d235c17f-c083-4fb0-9476-d2fb12aa9c44)
3.  Следуйте инструкциям в модальном окне: нажмите на каждую из 9 точек на экране 5 раз.
   ![image](https://github.com/user-attachments/assets/90b64ab5-7bb7-4436-adad-5ce64b6eebf9)
5.  Во время калибровки старайтесь не двигаться головой (голова должна входить в квадрат поля зрения ай-трекера (квадрат в правой веб-камере должен быть зелёным).
6.  После появится модальное окно с просьбой смотреть строго на центральную точку в течение 5 секунд, чтобы определить точность webgazer в предсказании движения взгляда.
7.  После завершения калибровки появится модальное окно с результатами точности. Нажмите "ОК" для продолжения или "Попробовать ещё раз", если точность низкая. Чем точность выше, тем лучше.

![image](https://github.com/user-attachments/assets/0b7d2021-2818-4119-b9f4-7cd1184fb91b)


### 4. Выполнение заданий

1.  Нажмите кнопку "Начать" в панели управления. Кнопка изменит текст на "Завершить", и начнется отсчёт секундомера.
   ![image](https://github.com/user-attachments/assets/0acd306c-4754-4645-9d59-24c9bb40d63d)
3.  Нажмите кнопку "Панель заданий" для просмотра списка заданий.
5.  В модальном окне "Задания для эксперимента" нажмите кнопку "Начать" рядом с любым понравившимся заданием.
   ![image](https://github.com/user-attachments/assets/324cb76d-6b77-40a1-846d-6eb710975c5c)
7.  Выполните описанное задание в браузере.
8.  После выполнения задания вернитесь к модальному окну заданий (если оно было закрыто) и нажмите кнопку "Завершить" рядом с текущим заданием. Кнопка станет "Завершено".
   ![image](https://github.com/user-attachments/assets/b368fb55-0ee3-4421-85cd-1242499aeb8d)
9.  Повторите шаги 3-5 для двух любых других заданий.

Во время выполнения заданий система автоматически собирает данные ай-трекинга и эмоций.

После выполнения всех заданий нажмите кнопку "Завершить" в панели управления.
![image](https://github.com/user-attachments/assets/9471e790-f7e8-4879-bec4-83b16643811e)


Повторите шаги 1-4 на другом браузере (то есть если был Chromium, то теперь Firefox. Если был Firefox, то теперь Chromium).